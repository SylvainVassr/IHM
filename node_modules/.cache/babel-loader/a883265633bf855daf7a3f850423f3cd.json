{"remainingRequest":"C:\\xampp\\htdocs\\IHM\\node_modules\\thread-loader\\dist\\cjs.js!C:\\xampp\\htdocs\\IHM\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\IHM\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\xampp\\htdocs\\IHM\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\xampp\\htdocs\\IHM\\src\\components\\Sncf.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\IHM\\src\\components\\Sncf.vue","mtime":1641486030534},{"path":"C:\\xampp\\htdocs\\IHM\\babel.config.js","mtime":1639666655167},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639666687566},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1639666687516},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\babel-loader\\lib\\index.js","mtime":1639666688625},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639666687566},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639666688819}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IExNYXAsIExUaWxlTGF5ZXIsIExNYXJrZXIsIExDb250cm9sTGF5ZXJzLCBMUG9wdXAsIExJY29uIH0gZnJvbSAiQHZ1ZS1sZWFmbGV0L3Z1ZS1sZWFmbGV0IjsKaW1wb3J0ICJsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNuY2YiLAogIGNvbXBvbmVudHM6IHsKICAgIExNYXA6IExNYXAsCiAgICBMVGlsZUxheWVyOiBMVGlsZUxheWVyLAogICAgTE1hcmtlcjogTE1hcmtlciwKICAgIExDb250cm9sTGF5ZXJzOiBMQ29udHJvbExheWVycywKICAgIExQb3B1cDogTFBvcHVwLAogICAgTEljb246IExJY29uCiAgfSwKICBwcm9wczogewogICAgbWFya2VyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb251bWVudHM6IG51bGwsCiAgICAgIGdhcmU6IG51bGwsCiAgICAgIGNlbnRlcjogWzQ3LCAyXSwKICAgICAgem9vbTogNi4xNSwKICAgICAgYXJlYTogMTAsCiAgICAgIGljb25XaWR0aDogMzAsCiAgICAgIGljb25IZWlnaHQ6IDMwLAogICAgICBub21fZ2FyZTogbnVsbCwKICAgICAgaW5kZXg6IG51bGwsCiAgICAgIG1hcmtlcnM6IFtdLAogICAgICBpY29uVXJsOiAiaHR0cHM6Ly9jZG4taWNvbnMtcG5nLmZsYXRpY29uLmNvbS81MTIvMjA4OC8yMDg4MTM4LnBuZyIsCiAgICAgIGNvb3JkR2FyZTogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9yZXNzb3VyY2VzLmRhdGEuc25jZi5jb20vYXBpL3JlY29yZHMvMS4wL3NlYXJjaC8/ZGF0YXNldD1yZWZlcmVudGllbC1nYXJlcy12b3lhZ2V1cnMmcT0mcm93cz0yODc0JnNvcnQ9LWdhcmVfYWxpYXNfbGliZWxsZV9ub25jb250cmFpbnQmZmFjZXQ9ZGVwYXJ0ZW1lbnRfbGliZWxsZW1pbiZmYWNldD1zZWdtZW50ZHJnX2xpYmVsbGUmZmFjZXQ9Z2FyZV9hZ2VuY2VnY19saWJlbGxlJmZhY2V0PWdhcmVfcmVnaW9uc25jZl9saWJlbGxlJmZhY2V0PWdhcmVfdWdfbGliZWxsZSIpLnRoZW4oZnVuY3Rpb24gKHJlcG9uc2UpIHsKICAgICAgX3RoaXMuZ2FyZSA9IHJlcG9uc2UuZGF0YVsicmVjb3JkcyJdLnJldmVyc2UoKTsKICAgICAgY29uc29sZS5sb2coX3RoaXMuZ2FyZVswXS5maWVsZHMpOwogICAgfSk7CiAgICBheGlvcy5nZXQoImh0dHBzOi8vd3d3LmRhdGEuZ291di5mci9mci9kYXRhc2V0cy9yLzQ4YzI4ZTFhLTdkMTMtNGI3ZS05N2QwLTdmNzc4Y2YzYTZlMiIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLm1vbnVtZW50cyA9IHJlc3BvbnNlLmRhdGEuZmVhdHVyZXM7IC8vIGNvbnNvbGUubG9nKHRoaXMubW9udW1lbnRzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdKTsKICAgICAgLy8qIGluZGV4IDAgZXQgMSBwb3VyIGxlcyBjb29yZG9ubsOpZXMKICAgIH0pOwogICAgYXhpb3MuZ2V0KCJodHRwczovL2RpZmZ1c2V1ci5kYXRhdG91cmlzbWUuZ291di5mci93ZWJzZXJ2aWNlLzU0OWQ5MmRlM2M4YTQ2ODZlNTIxMDAxYTFiZDU3Nzc2LzQ4NGQ2ZmZkLTU2N2MtNDBhOC04ZTA0LTk1OTY5YzAzMDA1ZiIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLm5ld0FwaU1vbnVtZW50ID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlczsKICAgICAgY29uc29sZS5sb2coX3RoaXMubmV3QXBpTW9udW1lbnQpOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgZHluYW1pY1NpemU6IGZ1bmN0aW9uIGR5bmFtaWNTaXplKCkgewogICAgICByZXR1cm4gW3RoaXMuaWNvblNpemUsIHRoaXMuaWNvblNpemUgKiAxLjE1XTsKICAgIH0sCiAgICBkeW5hbWljQW5jaG9yOiBmdW5jdGlvbiBkeW5hbWljQW5jaG9yKCkgewogICAgICByZXR1cm4gW3RoaXMuaWNvblNpemUgLyAyLCB0aGlzLmljb25TaXplICogMS4xNV07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5ub21fZ2FyZSk7CiAgICAgIHZhciBpbmRleCA9IHRoaXMubm9tX2dhcmUuc3BsaXQoIi4iKVswXTsKICAgICAgdGhpcy5jZW50ZXIgPSBbdGhpcy5nYXJlW2luZGV4XS5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSwgdGhpcy5nYXJlW2luZGV4XS5nZW9tZXRyeS5jb29yZGluYXRlc1swXV07CiAgICAgIHRoaXMubWFya2VycyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vbnVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2VGcm9tTGF0TG9uSW5LbSh0aGlzLmNlbnRlclswXSwgdGhpcy5jZW50ZXJbMV0sIHRoaXMubW9udW1lbnRzW2ldLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLCB0aGlzLm1vbnVtZW50c1tpXS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSk7CgogICAgICAgIGlmIChkaXN0YW5jZSA8PSB0aGlzLmFyZWEpIHsKICAgICAgICAgIGRpc3RhbmNlID0gcGFyc2VGbG9hdChkaXN0YW5jZSkudG9GaXhlZCgyKTsKCiAgICAgICAgICBpZiAoISh0aGlzLm1vbnVtZW50c1tpXS5wcm9wZXJ0aWVzLk5vbSA9PSAiSW1tZXVibGUiKSAmJiAhKHRoaXMubW9udW1lbnRzW2ldLnByb3BlcnRpZXMuTm9tID09ICJNYWlzb24iKSkgewogICAgICAgICAgICB0aGlzLm1vbnVtZW50c1tpXS5wcm9wZXJ0aWVzLkRpc3RhbmNlID0gZGlzdGFuY2U7CiAgICAgICAgICAgIHRoaXMubW9udW1lbnRzW2ldLnByb3BlcnRpZXMuTGluayA9ICJodHRwczovL2ZyLndpa2lwZWRpYS5vcmcvd2lraS8iICsgdGhpcy5tb251bWVudHNbaV0ucHJvcGVydGllcy5Ob20ucmVwbGFjZSgiICIsICJfIik7CiAgICAgICAgICAgIHRoaXMubWFya2Vycy5wdXNoKHRoaXMubW9udW1lbnRzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuY29vcmRHYXJlID0gdGhpcy5jZW50ZXI7CiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpOwogICAgICB9CiAgICB9LAogICAgYWN0aXZhdGU6IGZ1bmN0aW9uIGFjdGl2YXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIuem9vbSA9IDExOwogICAgICB9LCA3MDApOwogICAgfSwKICAgIGRlZzJyYWQ6IGZ1bmN0aW9uIGRlZzJyYWQoZGVnKSB7CiAgICAgIHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MCk7CiAgICB9LAogICAgZ2V0RGlzdGFuY2VGcm9tTGF0TG9uSW5LbTogZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tTGF0TG9uSW5LbShsYXQxLCBsb24xLCBsYXQyLCBsb24yKSB7CiAgICAgIHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbQoKICAgICAgdmFyIGRMYXQgPSB0aGlzLmRlZzJyYWQobGF0MiAtIGxhdDEpOyAvLyBkZWcycmFkIGJlbG93CgogICAgICB2YXIgZExvbiA9IHRoaXMuZGVnMnJhZChsb24yIC0gbG9uMSk7CiAgICAgIHZhciBhID0gTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICsgTWF0aC5jb3ModGhpcy5kZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKHRoaXMuZGVnMnJhZChsYXQyKSkgKiBNYXRoLnNpbihkTG9uIC8gMikgKiBNYXRoLnNpbihkTG9uIC8gMik7CiAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTsKICAgICAgdmFyIGQgPSBSICogYzsgLy8gRGlzdGFuY2UgaW4ga20KCiAgICAgIHJldHVybiBkOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\xampp\\htdocs\\IHM\\src\\components\\Sncf.vue"],"names":[],"mappings":";;;;AA0HA,OAAO,KAAP,MAAkB,OAAlB;AACA,SACE,IADF,EAEE,UAFF,EAGE,OAHF,EAIE,cAJF,EAKE,MALF,EAME,KANF,QAOO,0BAPP;AAQA,OAAO,0BAAP;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,IAAI,EAAJ,IADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,OAAO,EAAP,OAHU;AAIV,IAAA,cAAc,EAAd,cAJU;AAKV,IAAA,MAAM,EAAN,MALU;AAMV,IAAA,KAAK,EAAL;AANU,GAFC;AAUb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AACN,MAAA,IAAI,EAAE,MADA;AAEN,MAAA,QAAQ,EAAE;AAFJ;AADH,GAVM;AAgBb,EAAA,IAhBa,kBAgBN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,IADN;AAEL,MAAA,IAAI,EAAE,IAFD;AAGL,MAAA,MAAM,EAAE,CAAC,EAAD,EAAK,CAAL,CAHH;AAIL,MAAA,IAAI,EAAE,IAJD;AAKL,MAAA,IAAI,EAAE,EALD;AAML,MAAA,SAAS,EAAE,EANN;AAOL,MAAA,UAAU,EAAE,EAPP;AAQL,MAAA,QAAQ,EAAE,IARL;AASL,MAAA,KAAK,EAAE,IATF;AAUL,MAAA,OAAO,EAAE,EAVJ;AAWL,MAAA,OAAO,EAAE,yDAXJ;AAYL,MAAA,SAAS,EAAE;AAZN,KAAP;AAcD,GA/BY;AAgCb,EAAA,OAhCa,qBAgCH;AAAA;;AACR,IAAA,KAAI,CACD,GADH,CAEI,uRAFJ,EAIG,IAJH,CAIQ,UAAC,OAAD,EAAa;AACjB,MAAA,KAAI,CAAC,IAAL,GAAY,OAAO,CAAC,IAAR,CAAa,SAAb,EAAwB,OAAxB,EAAZ;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,IAAL,CAAU,CAAV,EAAa,MAAzB;AACD,KAPH;AAQA,IAAA,KAAI,CACD,GADH,CAEI,6EAFJ,EAIG,IAJH,CAIQ,UAAC,QAAD,EAAc;AAClB,MAAA,KAAI,CAAC,SAAL,GAAiB,QAAQ,CAAC,IAAT,CAAc,QAA/B,CADkB,CAElB;AACA;AACD,KARH;AASA,IAAA,KAAI,CACD,GADH,CAEI,yHAFJ,EAIG,IAJH,CAIQ,UAAC,QAAD,EAAc;AAClB,MAAA,KAAI,CAAC,cAAL,GAAsB,QAAQ,CAAC,IAAT,CAAc,QAApC;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,cAAjB;AACD,KAPH;AAQD,GA1DY;AA2Db,EAAA,QAAQ,EAAE;AACR,IAAA,WADQ,yBACM;AACZ,aAAO,CAAC,KAAK,QAAN,EAAgB,KAAK,QAAL,GAAgB,IAAhC,CAAP;AACD,KAHO;AAIR,IAAA,aAJQ,2BAIQ;AACd,aAAO,CAAC,KAAK,QAAL,GAAgB,CAAjB,EAAoB,KAAK,QAAL,GAAgB,IAApC,CAAP;AACD;AANO,GA3DG;AAmEb,EAAA,OAAO,EAAE;AACP,IAAA,MAAM,EAAE,kBAAY;AAClB,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,QAAjB;AACA,UAAI,KAAI,GAAI,KAAK,QAAL,CAAc,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAZ;AACA,WAAK,MAAL,GAAc,CACZ,KAAK,IAAL,CAAU,KAAV,EAAiB,QAAjB,CAA0B,WAA1B,CAAsC,CAAtC,CADY,EAEZ,KAAK,IAAL,CAAU,KAAV,EAAiB,QAAjB,CAA0B,WAA1B,CAAsC,CAAtC,CAFY,CAAd;AAIA,WAAK,OAAL,GAAe,EAAf;;AACA,WAAK,IAAI,CAAA,GAAI,CAAb,EAAgB,CAAA,GAAI,KAAK,SAAL,CAAe,MAAnC,EAA2C,CAAC,EAA5C,EAAgD;AAC9C,YAAI,QAAO,GAAI,KAAK,yBAAL,CACb,KAAK,MAAL,CAAY,CAAZ,CADa,EAEb,KAAK,MAAL,CAAY,CAAZ,CAFa,EAGb,KAAK,SAAL,CAAe,CAAf,EAAkB,QAAlB,CAA2B,WAA3B,CAAuC,CAAvC,CAHa,EAIb,KAAK,SAAL,CAAe,CAAf,EAAkB,QAAlB,CAA2B,WAA3B,CAAuC,CAAvC,CAJa,CAAf;;AAMA,YAAI,QAAO,IAAK,KAAK,IAArB,EAA2B;AACzB,UAAA,QAAO,GAAI,UAAU,CAAC,QAAD,CAAV,CAAqB,OAArB,CAA6B,CAA7B,CAAX;;AACA,cACE,EAAE,KAAK,SAAL,CAAe,CAAf,EAAkB,UAAlB,CAA6B,GAA7B,IAAoC,UAAtC,KACA,EAAE,KAAK,SAAL,CAAe,CAAf,EAAkB,UAAlB,CAA6B,GAA7B,IAAoC,QAAtC,CAFF,EAGE;AACA,iBAAK,SAAL,CAAe,CAAf,EAAkB,UAAlB,CAA6B,QAA7B,GAAwC,QAAxC;AACA,iBAAK,SAAL,CAAe,CAAf,EAAkB,UAAlB,CAA6B,IAA7B,GACE,mCACA,KAAK,SAAL,CAAe,CAAf,EAAkB,UAAlB,CAA6B,GAA7B,CAAiC,OAAjC,CAAyC,GAAzC,EAA8C,GAA9C,CAFF;AAGA,iBAAK,OAAL,CAAa,IAAb,CAAkB,KAAK,SAAL,CAAe,CAAf,CAAlB;AACF;AACF;;AACA,aAAK,SAAL,GAAiB,KAAK,MAAtB;AACA,aAAK,QAAL;AACF;AACD,KAhCM;AAiCP,IAAA,QAjCO,sBAiCI;AAAA;;AACT,MAAA,UAAU,CAAC;AAAA,eAAO,MAAI,CAAC,IAAL,GAAY,EAAnB;AAAA,OAAD,EAAyB,GAAzB,CAAV;AACD,KAnCM;AAoCP,IAAA,OApCO,mBAoCC,GApCD,EAoCM;AACX,aAAO,GAAE,IAAK,IAAI,CAAC,EAAL,GAAU,GAAf,CAAT;AACD,KAtCM;AAuCP,IAAA,yBAvCO,qCAuCmB,IAvCnB,EAuCyB,IAvCzB,EAuC+B,IAvC/B,EAuCqC,IAvCrC,EAuC2C;AAChD,UAAI,CAAA,GAAI,IAAR,CADgD,CAClC;;AACd,UAAI,IAAG,GAAI,KAAK,OAAL,CAAa,IAAG,GAAI,IAApB,CAAX,CAFgD,CAEV;;AACtC,UAAI,IAAG,GAAI,KAAK,OAAL,CAAa,IAAG,GAAI,IAApB,CAAX;AACA,UAAI,CAAA,GACF,IAAI,CAAC,GAAL,CAAS,IAAG,GAAI,CAAhB,IAAqB,IAAI,CAAC,GAAL,CAAS,IAAG,GAAI,CAAhB,CAArB,GACA,IAAI,CAAC,GAAL,CAAS,KAAK,OAAL,CAAa,IAAb,CAAT,IACE,IAAI,CAAC,GAAL,CAAS,KAAK,OAAL,CAAa,IAAb,CAAT,CADF,GAEE,IAAI,CAAC,GAAL,CAAS,IAAG,GAAI,CAAhB,CAFF,GAGE,IAAI,CAAC,GAAL,CAAS,IAAG,GAAI,CAAhB,CALJ;AAMA,UAAI,CAAA,GAAI,IAAI,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,IAAL,CAAU,CAAV,CAAX,EAAyB,IAAI,CAAC,IAAL,CAAU,IAAI,CAAd,CAAzB,CAAZ;AACA,UAAI,CAAA,GAAI,CAAA,GAAI,CAAZ,CAXgD,CAWjC;;AACf,aAAO,CAAP;AACD;AApDM;AAnEI,CAAf","sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-sm-6 m-auto\">\r\n        <figure class=\"text-center\">\r\n          <blockquote class=\"blockquote\">\r\n            <p class=\"mb-0\">\r\n              Du temps libre entre deux trains et rien de prévu ?\r\n            </p>\r\n            <p>\r\n              Voici de quoi vous occuper ! Notre application vous liste les\r\n              lieux notables selon votre destination dans un périmètre que vous\r\n              choississez.\r\n            </p>\r\n          </blockquote>\r\n        </figure>\r\n      </div>\r\n      <hr class=\"mt-2\" />\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-4\">\r\n      <h1>Que visiter ?</h1>\r\n      <form ref=\"form\" @submit.prevent>\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label mt-4\"\r\n            >Dans quelle gare êtes/serez vous ?</label\r\n          >\r\n          <input\r\n            list=\"gare\"\r\n            class=\"form-control\"\r\n            placeholder=\"Nom de votre gare\"\r\n            onfocus=\"this.value=''\"\r\n            v-model=\"nom_gare\"\r\n          />\r\n          <datalist id=\"gare\">\r\n            <option :key=\"index\" v-for=\"(gares, index) in gare\">\r\n              {{ index + \".\" + gares.fields.alias_libelle_noncontraint }}\r\n            </option>\r\n          </datalist>\r\n        </div>\r\n        <label for=\"customRange3\" class=\"form-label\"\r\n          >Jusqu'ou pouvons nous aller ?</label\r\n        >\r\n        <input\r\n          type=\"range\"\r\n          class=\"form-range\"\r\n          min=\"0\"\r\n          max=\"20\"\r\n          step=\"1\"\r\n          id=\"customRange3\"\r\n          v-model=\"area\"\r\n        />\r\n        <small class=\"form-text text-muted p-0\"\r\n          >Vous avez définie une zone de {{ area }} km de rayon</small\r\n        >\r\n\r\n        <button type=\"submit\" class=\"btn btn-primary\" v-on:click=\"submit\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n      <br>\r\n      <div class=\"row\" v-if=\"this.coordGare\">\r\n        <h6>{{ nom_gare.split(\".\")[1] }}</h6>\r\n        <ul>\r\n          <li>{{this.gare[nom_gare.split(\".\")[0]].fields.departement_libellemin}}</li>\r\n          <li>{{this.gare[nom_gare.split(\".\")[0]].fields.gare_regionsncf_libelle}}</li>\r\n          <li>{{this.gare[nom_gare.split(\".\")[0]].fields.adresse_cp }}</li>\r\n        </ul>\r\n\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-8 map\">\r\n      <l-map class=\"map\" v-model=\"zoom\" v-model:zoom=\"zoom\" :center=\"center\">\r\n        <l-tile-layer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        ></l-tile-layer>\r\n        <l-control-layers />\r\n        <l-marker\r\n          v-for=\"(monument, index) in this.markers\"\r\n          :key=\"index\"\r\n          :lat-lng=\"[\r\n            monument.geometry.coordinates[1],\r\n            monument.geometry.coordinates[0],\r\n          ]\"\r\n        >\r\n          <l-popup>\r\n            <p class=\"font-weight-bold m-0\">\r\n              <a :href=\"monument.properties.Link\">{{\r\n                monument.properties.Nom\r\n              }}</a>\r\n            </p>\r\n            <p class=\"m-0 text-center\">{{ monument.properties.Distance }} km</p>\r\n          </l-popup>\r\n          ></l-marker\r\n        >\r\n        <l-marker v-if=\"this.coordGare\" :lat-lng=\"this.coordGare\">\r\n          <l-icon ref=\"icon\">\r\n            <img\r\n              :width=\"iconWidth\"\r\n              :height=\"iconHeight\"\r\n              style=\"margin-left: -15px\"\r\n              class=\"restaurant-icon\"\r\n              :src=\"iconUrl\"\r\n            />\r\n          </l-icon>\r\n          <l-popup>\r\n            {{ nom_gare.split(\".\")[1] }}\r\n          </l-popup>\r\n        </l-marker>\r\n      </l-map>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"row\">\r\n      <hr class=\"mt-3\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {\r\n  LMap,\r\n  LTileLayer,\r\n  LMarker,\r\n  LControlLayers,\r\n  LPopup,\r\n  LIcon,\r\n} from \"@vue-leaflet/vue-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default {\r\n  name: \"Sncf\",\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    LMarker,\r\n    LControlLayers,\r\n    LPopup,\r\n    LIcon,\r\n  },\r\n  props: {\r\n    marker: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      monuments: null,\r\n      gare: null,\r\n      center: [47, 2],\r\n      zoom: 6.15,\r\n      area: 10,\r\n      iconWidth: 30,\r\n      iconHeight: 30,\r\n      nom_gare: null,\r\n      index: null,\r\n      markers: [],\r\n      iconUrl: \"https://cdn-icons-png.flaticon.com/512/2088/2088138.png\",\r\n      coordGare: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    axios\r\n      .get(\r\n        \"https://ressources.data.sncf.com/api/records/1.0/search/?dataset=referentiel-gares-voyageurs&q=&rows=2874&sort=-gare_alias_libelle_noncontraint&facet=departement_libellemin&facet=segmentdrg_libelle&facet=gare_agencegc_libelle&facet=gare_regionsncf_libelle&facet=gare_ug_libelle\"\r\n      )\r\n      .then((reponse) => {\r\n        this.gare = reponse.data[\"records\"].reverse();\r\n        console.log(this.gare[0].fields);\r\n      });\r\n    axios\r\n      .get(\r\n        \"https://www.data.gouv.fr/fr/datasets/r/48c28e1a-7d13-4b7e-97d0-7f778cf3a6e2\"\r\n      )\r\n      .then((response) => {\r\n        this.monuments = response.data.features;\r\n        // console.log(this.monuments[0].geometry.coordinates[1]);\r\n        //* index 0 et 1 pour les coordonnées\r\n      });\r\n    axios\r\n      .get(\r\n        \"https://diffuseur.datatourisme.gouv.fr/webservice/549d92de3c8a4686e521001a1bd57776/484d6ffd-567c-40a8-8e04-95969c03005f\"\r\n      )\r\n      .then((response) => {\r\n        this.newApiMonument = response.data.features;\r\n        console.log(this.newApiMonument);\r\n      });\r\n  },\r\n  computed: {\r\n    dynamicSize() {\r\n      return [this.iconSize, this.iconSize * 1.15];\r\n    },\r\n    dynamicAnchor() {\r\n      return [this.iconSize / 2, this.iconSize * 1.15];\r\n    },\r\n  },\r\n  methods: {\r\n    submit: function () {\r\n      console.log(this.nom_gare);\r\n      var index = this.nom_gare.split(\".\")[0];\r\n      this.center = [\r\n        this.gare[index].geometry.coordinates[1],\r\n        this.gare[index].geometry.coordinates[0],\r\n      ];\r\n      this.markers = [];\r\n      for (let i = 0; i < this.monuments.length; i++) {\r\n        var distance = this.getDistanceFromLatLonInKm(\r\n          this.center[0],\r\n          this.center[1],\r\n          this.monuments[i].geometry.coordinates[1],\r\n          this.monuments[i].geometry.coordinates[0]\r\n        );\r\n        if (distance <= this.area) {\r\n          distance = parseFloat(distance).toFixed(2);\r\n          if (\r\n            !(this.monuments[i].properties.Nom == \"Immeuble\") &&\r\n            !(this.monuments[i].properties.Nom == \"Maison\")\r\n          ) {\r\n            this.monuments[i].properties.Distance = distance;\r\n            this.monuments[i].properties.Link =\r\n              \"https://fr.wikipedia.org/wiki/\" +\r\n              this.monuments[i].properties.Nom.replace(\" \", \"_\");\r\n            this.markers.push(this.monuments[i]);\r\n          }\r\n        }\r\n        this.coordGare = this.center;\r\n        this.activate();\r\n      }\r\n    },\r\n    activate() {\r\n      setTimeout(() => (this.zoom = 11), 700);\r\n    },\r\n    deg2rad(deg) {\r\n      return deg * (Math.PI / 180);\r\n    },\r\n    getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\r\n      var R = 6371; // Radius of the earth in km\r\n      var dLat = this.deg2rad(lat2 - lat1); // deg2rad below\r\n      var dLon = this.deg2rad(lon2 - lon1);\r\n      var a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(this.deg2rad(lat1)) *\r\n          Math.cos(this.deg2rad(lat2)) *\r\n          Math.sin(dLon / 2) *\r\n          Math.sin(dLon / 2);\r\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n      var d = R * c; // Distance in km\r\n      return d;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n.map {\r\n  height: 700px;\r\n}\r\n</style>"],"sourceRoot":""}]}
{"remainingRequest":"C:\\xampp\\htdocs\\IHM\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\IHM\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\xampp\\htdocs\\IHM\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\xampp\\htdocs\\IHM\\src\\components\\MarkerCluster.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\IHM\\src\\components\\MarkerCluster.vue","mtime":1641304317307},{"path":"C:\\xampp\\htdocs\\IHM\\babel.config.js","mtime":1639666655167},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639666687566},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\babel-loader\\lib\\index.js","mtime":1639666688625},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639666687566},{"path":"C:\\xampp\\htdocs\\IHM\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639666688819}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXHhhbXBwXFxodGRvY3NcXElITVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxceGFtcHBcXGh0ZG9jc1xcSUhNXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAibGVhZmxldC5tYXJrZXJjbHVzdGVyL2Rpc3QvTWFya2VyQ2x1c3Rlci5jc3MiOwppbXBvcnQgImxlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MiOwppbXBvcnQgeyBpbmplY3QsIG5leHRUaWNrLCBvbkJlZm9yZVVubW91bnQsIG9uTW91bnRlZCwgcHJvdmlkZSwgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgcHJvcHNCaW5kZXIsIHJlbWFwRXZlbnRzIH0gZnJvbSAiQHZ1ZS1sZWFmbGV0L3Z1ZS1sZWFmbGV0L3NyYy91dGlscyI7CmltcG9ydCB7IHJlbmRlciBhcyBfcmVuZGVyLCBzZXR1cCBhcyBsYXllclNldHVwIH0gZnJvbSAiQHZ1ZS1sZWFmbGV0L3Z1ZS1sZWFmbGV0L3NyYy9mdW5jdGlvbnMvbGF5ZXIiOwp2YXIgcHJvcHMgPSB7CiAgb3B0aW9uczogewogICAgdHlwZTogT2JqZWN0LAogICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFya2VyQ2x1c3RlciIsCiAgcHJvcHM6IHByb3BzLAogIC8vIGVtaXRzOiBbJ3JlYWR5J10sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBjb250ZXh0KSB7CiAgICB2YXIgbGVhZmxldFJlZiA9IHJlZih7fSk7CiAgICB2YXIgcmVhZHkgPSByZWYoZmFsc2UpOwogICAgdmFyIGFkZExheWVyVG9NYWluTWFwID0gaW5qZWN0KCJhZGRMYXllciIpOwogICAgdmFyIHJlbW92ZUxheWVyRnJvbU1haW5NYXAgPSBpbmplY3QoInJlbW92ZUxheWVyIik7CiAgICBwcm92aWRlKCJjYW5TZXRQYXJlbnRIdG1sIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gISFsZWFmbGV0UmVmLnZhbHVlLmdldEVsZW1lbnQoKTsKICAgIH0pOwogICAgcHJvdmlkZSgic2V0UGFyZW50SHRtbCIsIGZ1bmN0aW9uIChodG1sKSB7CiAgICAgIHJldHVybiBsZWFmbGV0UmVmLnZhbHVlLmdldEVsZW1lbnQoKS5pbm5lckhUTUwgPSBodG1sOwogICAgfSk7IC8vIHByb3ZpZGUoJ3NldEljb24nLCAobmV3SWNvbikgPT4gbGVhZmxldFJlZi52YWx1ZS5zZXRJY29uICYmIGxlYWZsZXRSZWYudmFsdWUuc2V0SWNvbihuZXdJY29uKSkKCiAgICBwcm92aWRlKCJhZGRMYXllciIsIGZ1bmN0aW9uIChsYXllcikgewogICAgICAvLyByZXBsYWNlIHRoZSBwcm92aWRlZCBhZGRMYXllciBmdW5jdGlvbiBmb3IgY2hpbGQgY29tcG9uZW50cyBvZiBNYXJrZXJDbHVzdGVyIHNvIHRoZXkgYWRkIHRvIHRoZSBjbHVzdGVyIHJhdGhlciB0aGFuIHRoZSBtYXAKICAgICAgbGVhZmxldFJlZi52YWx1ZS5hZGRMYXllcihsYXllci5sZWFmbGV0T2JqZWN0KTsKICAgIH0pOwogICAgcHJvdmlkZSgicmVtb3ZlTGF5ZXIiLCBmdW5jdGlvbiAobGF5ZXIpIHsKICAgICAgbGVhZmxldFJlZi52YWx1ZS5yZW1vdmVMYXllcihsYXllci5sZWFmbGV0T2JqZWN0KTsKICAgIH0pOyAvLyBjb25zdCB7b3B0aW9ucywgbWV0aG9kc30gPSBtYXJrZXJTZXR1cChwcm9wcywgbGVhZmxldFJlZiwgY29udGV4dCkKCiAgICB2YXIgX2xheWVyU2V0dXAgPSBsYXllclNldHVwKHByb3BzLCBsZWFmbGV0UmVmLCBjb250ZXh0KSwKICAgICAgICBtZXRob2RzID0gX2xheWVyU2V0dXAubWV0aG9kczsKCiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfeWllbGQkaW1wb3J0LCBEb21FdmVudCwgbWFya2VyLCBfeWllbGQkaW1wb3J0MiwgTWFya2VyQ2x1c3Rlckdyb3VwLCBsaXN0ZW5lcnM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgibGVhZmxldC9kaXN0L2xlYWZsZXQtc3JjLmVzbSIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF95aWVsZCRpbXBvcnQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIERvbUV2ZW50ID0gX3lpZWxkJGltcG9ydC5Eb21FdmVudDsKICAgICAgICAgICAgICBtYXJrZXIgPSBfeWllbGQkaW1wb3J0Lm1hcmtlcjsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0KCJsZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvZGlzdC9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXItc3JjLmpzIik7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX3lpZWxkJGltcG9ydDIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIE1hcmtlckNsdXN0ZXJHcm91cCA9IF95aWVsZCRpbXBvcnQyLk1hcmtlckNsdXN0ZXJHcm91cDsKICAgICAgICAgICAgICBsZWFmbGV0UmVmLnZhbHVlID0gbmV3IE1hcmtlckNsdXN0ZXJHcm91cChwcm9wcy5vcHRpb25zKTsKICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSByZW1hcEV2ZW50cyhjb250ZXh0LmF0dHJzKTsKICAgICAgICAgICAgICBEb21FdmVudC5vbihsZWFmbGV0UmVmLnZhbHVlLCBsaXN0ZW5lcnMpOwogICAgICAgICAgICAgIHByb3BzQmluZGVyKG1ldGhvZHMsIGxlYWZsZXRSZWYudmFsdWUsIHByb3BzKTsKICAgICAgICAgICAgICBhZGRMYXllclRvTWFpbk1hcChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCBtZXRob2RzKSwge30sIHsKICAgICAgICAgICAgICAgIGxlYWZsZXRPYmplY3Q6IGxlYWZsZXRSZWYudmFsdWUKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgcmVhZHkudmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmVtaXQoInJlYWR5IiwgbGVhZmxldFJlZi52YWx1ZSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CiAgICBvbkJlZm9yZVVubW91bnQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbGVhZmxldFJlZi52YWx1ZSAmJiBsZWFmbGV0UmVmLnZhbHVlLl9sZWFmbGV0X2lkICYmIHJlbW92ZUxheWVyRnJvbU1haW5NYXAoewogICAgICAgIGxlYWZsZXRPYmplY3Q6IGxlYWZsZXRSZWYudmFsdWUKICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHJlYWR5OiByZWFkeSwKICAgICAgbGVhZmxldE9iamVjdDogbGVhZmxldFJlZgogICAgfTsKICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgcmV0dXJuIF9yZW5kZXIodGhpcy5yZWFkeSwgdGhpcy4kc2xvdHMpOwogIH0KfTs="},{"version":3,"sources":["C:\\xampp\\htdocs\\IHM\\src\\components\\MarkerCluster.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"display: none\">\r\n    <slot v-if=\"ready\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"leaflet.markercluster/dist/MarkerCluster.css\";\r\nimport \"leaflet.markercluster/dist/MarkerCluster.Default.css\";\r\nimport {\r\n  inject,\r\n  nextTick,\r\n  onBeforeUnmount,\r\n  onMounted,\r\n  provide,\r\n  ref,\r\n} from \"vue\";\r\nimport { propsBinder, remapEvents } from \"@vue-leaflet/vue-leaflet/src/utils\";\r\nimport {\r\n  render,\r\n  setup as layerSetup,\r\n} from \"@vue-leaflet/vue-leaflet/src/functions/layer\";\r\n\r\nconst props = {\r\n  options: {\r\n    type: Object,\r\n    default() {\r\n      return {};\r\n    },\r\n  },\r\n};\r\n\r\nexport default {\r\n  name: \"MarkerCluster\",\r\n\r\n  props,\r\n\r\n  // emits: ['ready'],\r\n\r\n  setup(props, context) {\r\n    const leafletRef = ref({});\r\n    const ready = ref(false);\r\n\r\n    const addLayerToMainMap = inject(\"addLayer\");\r\n    const removeLayerFromMainMap = inject(\"removeLayer\");\r\n\r\n    provide(\"canSetParentHtml\", () => !!leafletRef.value.getElement());\r\n    provide(\r\n        \"setParentHtml\",\r\n        (html) => (leafletRef.value.getElement().innerHTML = html)\r\n    );\r\n    // provide('setIcon', (newIcon) => leafletRef.value.setIcon && leafletRef.value.setIcon(newIcon))\r\n    provide(\"addLayer\", (layer) => {\r\n      // replace the provided addLayer function for child components of MarkerCluster so they add to the cluster rather than the map\r\n      leafletRef.value.addLayer(layer.leafletObject);\r\n    });\r\n    provide(\"removeLayer\", (layer) => {\r\n      leafletRef.value.removeLayer(layer.leafletObject);\r\n    });\r\n\r\n    // const {options, methods} = markerSetup(props, leafletRef, context)\r\n\r\n    const { methods } = layerSetup(props, leafletRef, context);\r\n\r\n    onMounted(async () => {\r\n      const { DomEvent, marker } = await import(\"leaflet/dist/leaflet-src.esm\");\r\n\r\n      const { MarkerClusterGroup } = await import(\r\n          \"leaflet.markercluster/dist/leaflet.markercluster-src.js\"\r\n          );\r\n      leafletRef.value = new MarkerClusterGroup(props.options);\r\n\r\n      const listeners = remapEvents(context.attrs);\r\n      DomEvent.on(leafletRef.value, listeners);\r\n\r\n      propsBinder(methods, leafletRef.value, props);\r\n\r\n      addLayerToMainMap({\r\n        ...props,\r\n        ...methods,\r\n        leafletObject: leafletRef.value,\r\n      });\r\n\r\n      ready.value = true;\r\n      nextTick(() => context.emit(\"ready\", leafletRef.value));\r\n    });\r\n\r\n    onBeforeUnmount(\r\n        () =>\r\n            leafletRef.value &&\r\n            leafletRef.value._leaflet_id &&\r\n            removeLayerFromMainMap({ leafletObject: leafletRef.value })\r\n    );\r\n\r\n    return { ready, leafletObject: leafletRef };\r\n  },\r\n  render() {\r\n    return render(this.ready, this.$slots);\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}